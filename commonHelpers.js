var h=Object.defineProperty;var y=(e,t,o)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var n=(e,t,o)=>(y(e,typeof t!="symbol"?t+"":t,o),o),L=(e,t,o)=>{if(!t.has(e))throw TypeError("Cannot "+o)};var d=(e,t,o)=>(L(e,t,"read from private field"),o?o.call(e):t.get(e)),f=(e,t,o)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,o)};import{S as p,i as m}from"./assets/vendor-8c59ed88.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();const S="https://pixabay.com/",v="api/",b="44530588-77e4763ebb7280f93ce94dd82",E={};var l;class g{constructor(){n(this,"query","");f(this,l,10);n(this,"page",1);n(this,"total_pages",1)}getArticles(){const t=new URLSearchParams({key:b,q:this.query,image_type:"photo",orientation:"horizontal",safesearch:!0}),o=`${S}${v}?${t}`;return console.log(o),fetch(o,E).then(i=>i.json())}get pageSize(){return d(this,l)}}l=new WeakMap;function P(e){return console.log(e),`<li class="list-el">

 <a href="${e.largeImageURL}"><img src='${e.webformatURL}' alt='${e.tags}'></a>
  <div class="content">
    <div class="item"><h3>Likes</h3><p>${e.likes}</p></div>
    <div class="item"><h3>Views</h3><p>${e.views}</p></div>
    <div class="item"><h3>Comments</h3><p>${e.comments}</p></div>
    <div class="item"><h3>Downloads</h3><p>${e.downloads}</p></div>
 </div>
</li>
`}let w=new p(".gallery a");const c={formElem:document.querySelector(".js-search-form"),articleListElem:document.querySelector(".js-article-list"),btnLoadMore:document.querySelector(".js-btn-load"),loadElem:document.querySelector(".js-loader")},a=new g;c.formElem.addEventListener("submit",q);async function q(e){if(e.preventDefault(),a.query=e.target.elements.query.value.trim(),a.page=1,c.articleListElem.innerHTML="",!(a.query.trim()!=="")){m.error({message:"Info Search input must be filled!"});return}try{const o=await a.getArticles();console.log(o),console.log(o.total),o.total==0&&m.info({title:"Sorry,",message:"there are no images matching your search query. Please try again!"}),a.totalResult=o.totalResults,R(o.hits)}catch(o){a.totalResult=0,m.error({title:"Error1",message:o.message})}$()}function A(e){return e.map(P).join("")}function R(e){const t=A(e);c.articleListElem.insertAdjacentHTML("beforeend",t),w.refresh()}function $(){console.log(a.totalResult),console.log(a.page),Math.ceil(a.totalResult/g.PAGE_SIZE)<=a.page&&c.btnLoadMore.classList.add("hidden")}new p(".gallery a",{captionDelay:250,captionsData:"alt"});
//# sourceMappingURL=commonHelpers.js.map
